var audio,context,analyser,src,array,logo;let newUserWidth,counter=0,whatArray=0,copyWhatArray=new Array,styleArray=new Array,checkBool=!1,rectangles=new Array;logo=document.getElementById("logo").style,jaw=document.getElementById("jaw").style,audio=document.getElementById("audio"),button=document.getElementById("button"),document.getElementById("bass__body").style.height=document.getElementById("home").style.height+document.getElementById("home").style.paddingTop+document.getElementById("home").style.paddingBottom-document.getElementById("header__body").style.height,oldUserWidth=document.documentElement.clientWidth;for(let t=1;t<19;t++)copyWhatArray.push(document.getElementById("text__"+t.toString()).textContent);for(let t=1;t<17;t++)rectangles.push(document.getElementById("rect__"+t.toString()).style);for(let t=1;t<19;t++)styleArray.push(document.getElementById("text__"+t.toString()).style);function pause(){logo.transform="scale(1)",jaw.transform="rotate(0deg)";for(let t=0;t<18;t++)styleArray[t].opacity=0;for(let t=0;t<16;t++)rectangles[t].height="0px"}function end(){logo.transform="scale(1)";for(let t=0;t<18;t++)styleArray[t].opacity=0;for(let t=0;t<16;t++)rectangles[t].height="0px";counter=0,whatArray=0}function preparation(){var t=window.AudioContext||window.webkitAudioContext;context=new t,analyser=context.createAnalyser(),(src=context.createMediaElementSource(audio)).connect(analyser),analyser.connect(context.destination),loop()}function loop(){if(audio.paused||window.requestAnimationFrame(loop),array=new Uint8Array(analyser.frequencyBinCount),analyser.getByteFrequencyData(array),array[0]/160>1&&array[0]/160<1.4?logo.transform="scale("+(array[0]/160).toString()+")":logo.transform="scale(1)",jaw.transform="rotate("+(-array[700]/10).toString()+"deg)",newUserWidth=document.documentElement.clientWidth,newUserWidth!=oldUserWidth){for(let t=0;t<16;t++)styleArray[t].opacity=0;oldUserWidth=newUserWidth}counter++;for(let t=0;t<16;t++){let e=0;for(let r=0;r<64;r++)e+=array[r+64*t];e=document.documentElement.clientWidth>829?2*e/64/6:e/64/6,rectangles[t].height=e.toString()+"px"}newUserWidth>829?counter<250?(counter<100&&(styleArray[whatArray].opacity=counter/99),counter<150&&counter>99&&(styleArray[whatArray].opacity=1),counter>149&&(styleArray[whatArray].opacity=1-(counter-150)/99)):(counter=0,whatArray++,whatArray>17&&(whatArray=0)):counter<250?(counter<100&&(checkBool?(styleArray[12].opacity=counter/99,document.getElementById("text__13").innerHTML=copyWhatArray[whatArray]):(styleArray[3].opacity=counter/99,document.getElementById("text__4").innerHTML=copyWhatArray[whatArray])),counter<150&&counter>99&&(checkBool?(styleArray[12].opacity=1,document.getElementById("text__13").innerHTML=copyWhatArray[whatArray]):(styleArray[3].opacity=1,document.getElementById("text__4").innerHTML=copyWhatArray[whatArray])),counter>149&&(checkBool?(styleArray[12].opacity=1-(counter-150)/99,document.getElementById("text__13").innerHTML=copyWhatArray[whatArray]):(styleArray[3].opacity=1-(counter-150)/99,document.getElementById("text__4").innerHTML=copyWhatArray[whatArray]))):(counter=0,whatArray++,whatArray>17&&(whatArray=0),checkBool=!checkBool)}button.onclick=function(){context||preparation(),audio.paused?(audio.play(),loop(),button.value="Stop a Magic"):(audio.pause(),button.value="Start a Magic",window.requestAnimationFrame(pause))},audio.onended=function(){button.value="Start a Magic",window.requestAnimationFrame(end)};